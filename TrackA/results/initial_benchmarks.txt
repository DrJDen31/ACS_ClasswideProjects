Project A4 - Initial Benchmark Results
Date: November 11, 2025
========================================

Configuration: 10,000 keys, lookup-only workload

Thread Scaling Comparison:
--------------------------
Strategy: Coarse-Grained (Single Global Mutex)
  1 thread:  ~8.0 Mops/sec
  4 threads: ~7.0 Mops/sec (0.9× speedup - performance degradation!)
  8 threads: ~4.7 Mops/sec (0.6× speedup - severe contention)

Strategy: Fine-Grained (Lock Striping - One Mutex Per Bucket)
  1 thread:  ~10.0 Mops/sec
  4 threads: ~53.0 Mops/sec (5.3× speedup)
  8 threads: ~70.2 Mops/sec (7.0× speedup)

Key Findings:
-------------
1. Coarse-grained performance DECREASES with more threads
   - Lock contention becomes the bottleneck
   - Threads spend more time waiting than working
   
2. Fine-grained scales linearly up to ~8 threads
   - 7× speedup achieved with 8 threads
   - Still room for improvement (ideal would be 8×)
   
3. Absolute performance comparison at 8 threads:
   - Fine-grained is 15× FASTER than coarse-grained
   - 70.2 Mops/sec vs 4.7 Mops/sec

Next Steps:
-----------
- Test insert-only and mixed workloads
- Test larger dataset sizes (10^5, 10^6 keys)
- Test with 16 threads (2× hardware threads)
- Run full benchmark suite with 5 repetitions
- Collect perf counters for cache miss analysis
- Generate plots and write analysis

Stress Test Results:
--------------------
8 threads × 10,000 ops each = 80,000 total operations

Coarse-grained:
  Completed in: 65 ms
  Throughput: 1.23 Mops/sec
  No crashes or deadlocks ✓

Fine-grained:
  Completed in: 3 ms
  Throughput: 26.67 Mops/sec (21× faster!)
  No crashes or deadlocks ✓

Implementation Status:
----------------------
✅ Coarse-grained hash table
✅ Fine-grained hash table
✅ Correctness tests (16/16 passed)
✅ Stress tests (all passed)
✅ Benchmark framework
⬜ Reader-writer locks (optional)
⬜ Full benchmark suite
⬜ Analysis and plots
⬜ Final report
